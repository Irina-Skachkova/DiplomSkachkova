# Дипломный проект профессии «1C-программист: с нуля до middle» (составила Скачкова И.В.)

## Для компании «Ваш компьютерный мастер»

## Инструкция по начальной настройке и эксплуатации новых инструментов

###  Задача инструкции

Инструкция предназначена для специалистов заказчика по начальной настройке и запуске программы.

Инструкция описывает настройку двух функций:
- Работа с заявками клиентов. Инструменты данной функции находиться в подсистеме Обслуживание клиентов. 
- Расчет управленческой зарплаты. Инструменты данной функции находиться в подсистеме Заработная плата.
Для информации все инструменты, которые используются в подсистемах Обслуживание клиентов и Заработная плата, размещены в подсистеме Дополнительные Объекты.

------

### Работа с заявками клиентов

------

#### Процесс работы с заявками построен следующим образом:
1. Клиент звонит менеджеру и оставляет заявку на работу специалиста с указанием проблемы, для решения которой нужен специалист.
2. Менеджер ищет свободное время и планирует заявку на это время.
3. При планировании телеграм-бот оповещает специалистов о появлении новой заявки.
4. Специалист в назначенное время в офисе клиента или удалённо проводит необходимые работы.
5. Специалист получает подписанный лист учёта рабочего времени или скан/фото листа учёта от клиента. В листе учёта перечисляются виды работ, выполненные специалистом, и фиксируется количество часов к оплате. В дальнейшем документ будет являться подтверждением проведения работ.
6. Специалист вносит в информационную систему информацию о выполненных работах, количество фактически потраченных часов на каждый вид работы, количество часов к оплате клиенту за каждый вид работы и прикрепляет к документу скан/фото листа учёта рабочего времени.

#### Алгоритм настройки процесса.

##### Настройка справочника Договоры контрагентов. 
При оформлении соглашения с клиентом в справочники Договоры контрагентов на форме документа нужно выбрать вид договора - Абонентское обслуживание.  Появятся два поля Сумма абонентской платы и Стоимость часа работы. Эти поля должны быть обязательно заполнены согласно договоренностям. Если эти поля не будут заполнены, то документы Обслуживание клиентов нельзя будет провести.

##### Настройка телеграмм бота. 
Для оповещения через Телеграм заполните две константы: 
- токен управления телеграм-ботом 
- идентификатор группы для оповещения

Интеграция с телеграмм-ботом  преднастроена. Необходимо только создать группу в Телеграмм. 
Напишете в Телеграм https://t.me/BotFather команду "/start"
Напишите команду "/newbot"
Выберите имя вашего бота, которое будут видеть пользователи
Выберите идентификатор вашего бота (он должен заканчиваться на "bot")
Скопируйте токен, который пришлет BotFather и сохраните его в константу токен управления телеграм-ботом.
Для получения идентификатора  необходимо вставить токен в строку и запустить в браузере https://api.telegram.org/bot[ТОКЕН]/getUpdates. После этого направьте сообщение тестовое. И запустит еще  раз в браузере. На экране появится строка json из которой нужно будет взять ID и добавить в констану - идентификатор группы для оповещения.

##### Создание документа Обслуживание клиента. 
1. Необходимо заполнить реквизиты, т.к. клиент, договор, Описание работы, комментарий, а также нужно выбрать и заполнить данные специалиста, который будет проводить операцию у клиента. Кроме этого нужно выбрать дату и время.
2. При любом изменении этих данных идет оповещение через телеграмм-бота специалистов.
3. При заполнении табличной части отражаются данные по проводимым работам, время плановое и фактическое.
4. При заполнении табличной части можно будет провести документ. И через телеграмм оповещение информируется, что работа выполнена.
5. Информация о всех операциях записывается в регистр Выполненные клиенту работы.
#### Заполнение Реализация товаров и услуг. 
1. Добавьте константы Номенклатура абонентская плата и Номенклатура работы специалиста.
2. Заполнить документ автоматически позволит кнопка Заполнить. После проверки данных документ можно провести.
3. Из документа, можно создать и напечатать акты об оказании услуг. Это можно сделать нажав на кнопку Акт об оказании услуг на форме списка и на форме документа.

------

### Массовое создание документа Реализация товаров и услуг.
 
Автоматизация данной процедуры реализовано в обработке Массовое создание актов.

Необходимо выбрать месяц и год за который период нужно сделать акты и нажать на кнопку - Создать Акты об оказании услуг.

__Внимание!__ Во избежании ошибки система выдаст предупреждение - Документы не будут созданы , если по договору были созданы документы вручную. Продолжить? Да или Нет. Если ДА, то операция продолжиться, если нет, то выполнение операции остановиться.
В табличной части будут выведены данные по каким договорам и какие документы Реализации товаров и услуг созданы.

------

##### Права доступа
Добавьте пользователя в группы доступа Специалист, Менеджер, Бухгалтер.

------

### Расчет управленческой зарплаты

------

На предприятии работают сотрудники двух категорий: специалисты и административный персонал. Специалистам начисляется минимальный оклад и процент за выполненные работы клиентам. Административный персонал получает оклад. Любому сотруднику на усмотрение руководства может быть начислена разовая фиксированная премия.

#### Подготовительные операции
1. В регистре Условия оплаты сотрудников укажите оклад сотрудников и процент от выполняемых работ для расчета премии.
2. Обработка Заполнение Графика работы нужно выбрать необходимые данные учетной политики по графику работы и заполнить.
3. Для этого выбираете период, прописывает название трафика (например, пятидневка), в поле выходные дни заполняете число недели выходных и с помощью заполнить заполняете регистр график работы. 

#### Расчет зарплаты 
Для расчета зарплаты потребуется заполнить два документа:
- Начисление заработной платы.
- Начисление фиксированной премии.

Заполните табличную часть этих документов. 
__Обязательно__ укажите вид расчета: __отпуск или оклад__. 
Оклад рассчитывается автоматически исходя из средней дневной зарплаты за 12 месяцев умноженного на количество отпускных дней.
С каждого сотрудника удерживается НДФЛ -13%.
При проведении документов данные записываются в регистр расчета Основные начисления, Дополнительные начисления и Удержания. 

#### Выплата зарплаты
1. Создайте документ Выплата зарплаты.
2. При нажатии на кнопку Заполнить происходит автоматическое заполнение данными.
3. При проведении документа данные записываются в регистр Взаиморасчеты с сотрудниками.

#### Планирование отпусков.
Механизм позволяет составлять график отпусков. Данные нужно вносить в начале года. 
1. Создайте документ График отпусков с реквизитом Год.
2. Заполните в табличной части Сотрудник, дата начала, дата окончания отпусков. Общая длительность отпуска должно быть не более 28 календарных дней.
3. Если при заполнении по сотруднику количество дней превысит установленное значение, то система предупредит пользователя об этом.

##### Контроль заполнения графиков отпусков
Для визуального контроля пересечения отпусков сотрудника предусмотрена процедура контроля. При нажатии на кнопку Анализ графика открывается форма с диаграммой Ганта с информацией о каждом сотруднике.

------

##### Права доступа.
Необходимо добавить пользователя в профиль групп доступа Кадровик расчетчик.
Добавлены отчеты. 

------

### Отчеты

------

#### Выработка специалистов.


Отчёт показывать, сколько часов за выбранный период отработал выбранный специалист и какая сумма ему за этот период начислена в виде процента от выплат клиента.


#### Анализ выставленных актов


Отчёт включать информацию о клиентах, договорах и суммах, которые должны быть выставлены клиентам на основе данных из документов Обслуживание. 
Расчеты с сотрудниками


В отчете представлена информация о том, какие суммы начислены и выплачены каждому сотруднику за указанный период. Также в отчете отражена задолженность на начало и на конец этого периода.


#### Расход запланированных отпусков

Пользователи строит отчёт за конкретный год. Отчет показывать сколько дней отпуска у сотрудника в выбранный период по плану и сколько дней он фактически был в отпуске.

------

##### Права доступа

Отчет по выработке специалистов должен быть предоставлен специалистам и кадровикам-расчетчикам.
Отчет по анализу выставленных актов должен быть предоставлен бухгалтерам.
Отчеты по зарплате и отпускам должны быть предоставлен кадровикам-расчетчикам.

------

### Тестирование

------

#### Сценарии

1. Планирование трех обслуживаний на специалистов от имени Менеджера
2. Закрытие обслуживаний от имени Специалиста
3. Массовое создание актов от имени Бухгалтера
4. Формирование отчета Анализ выставленных актов

##### Настройка тестирования

Разработано сценарий для трех ролей: менеджер, специалист, бухгалтер. Сценарии идут отдельными файлами. Инструкция прилагается.

------
